{% extends "base.html" %} {% block content %}
<div class="container mx-auto px-4 py-8">
  <div class="max-w-2xl mx-auto">
    <div class="bg-white rounded-lg shadow-md p-6">
      <h1 class="text-2xl font-bold text-gray-800 mb-6">Mon Profil</h1>

      {% with messages = get_flashed_messages(with_categories=true) %} {% if
      messages %} {% for category, message in messages %}
      <div
        class="mb-4 p-4 rounded-lg {% if category == 'success' %}bg-green-100 text-green-700{% else %}bg-red-100 text-red-700{% endif %}"
      >
        {{ message }}
      </div>
      {% endfor %} {% endif %} {% endwith %}

      <form method="POST" class="space-y-6">
        {{ form.hidden_tag() }}

        <div>
          <label
            for="{{ form.username.id }}"
            class="block text-sm font-medium text-gray-700"
            >Nom d'utilisateur</label
          >
          {{ form.username(class="mt-1 block w-full rounded-md border-gray-300
          shadow-sm focus:border-green-500 focus:ring-green-500") }} {% if
          form.username.errors %} {% for error in form.username.errors %}
          <p class="mt-1 text-sm text-red-600">{{ error }}</p>
          {% endfor %} {% endif %}
        </div>

        <div>
          <label
            for="{{ form.email.id }}"
            class="block text-sm font-medium text-gray-700"
            >Email</label
          >
          {{ form.email(class="mt-1 block w-full rounded-md border-gray-300
          shadow-sm focus:border-green-500 focus:ring-green-500") }} {% if
          form.email.errors %} {% for error in form.email.errors %}
          <p class="mt-1 text-sm text-red-600">{{ error }}</p>
          {% endfor %} {% endif %}
        </div>

        <div>
          <label
            for="{{ form.password.id }}"
            class="block text-sm font-medium text-gray-700"
            >Nouveau mot de passe</label
          >
          {{ form.password(class="mt-1 block w-full rounded-md border-gray-300
          shadow-sm focus:border-green-500 focus:ring-green-500") }} {% if
          form.password.errors %} {% for error in form.password.errors %}
          <p class="mt-1 text-sm text-red-600">{{ error }}</p>
          {% endfor %} {% endif %}
        </div>

        <div>
          <label
            for="{{ form.password2.id }}"
            class="block text-sm font-medium text-gray-700"
            >Confirmer le nouveau mot de passe</label
          >
          {{ form.password2(class="mt-1 block w-full rounded-md border-gray-300
          shadow-sm focus:border-green-500 focus:ring-green-500") }} {% if
          form.password2.errors %} {% for error in form.password2.errors %}
          <p class="mt-1 text-sm text-red-600">{{ error }}</p>
          {% endfor %} {% endif %}
        </div>

        <div class="flex justify-end">
          {{ form.submit(class="bg-green-600 text-white px-4 py-2 rounded-lg
          hover:bg-green-700 transition duration-200") }}
        </div>
      </form>
    </div>
  </div>
</div>
{% endblock %}
